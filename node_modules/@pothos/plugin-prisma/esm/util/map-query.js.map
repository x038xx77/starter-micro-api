{"version":3,"sources":["../../src/util/map-query.ts"],"names":["getArgumentValues","getNamedType","isObjectType","Kind","setLoaderMappings","createState","mergeSelection","selectionCompatible","selectionToQuery","addTypeSelectionsForField","type","context","info","state","selection","indirectPath","name","value","startsWith","pothosPrismaInclude","pothosPrismaSelect","pothosPrismaIndirectInclude","pothosPrismaModel","extensions","resolveIndirectInclude","path","resolvedType","field","mode","select","undefined","include","selectionSet","addNestedSelections","includePath","resolve","rest","sel","selections","kind","FIELD","returnType","getFields","length","alias","FRAGMENT_SPREAD","fragments","typeCondition","schema","getType","INLINE_FRAGMENT","Error","addFieldSelection","fieldSelect","fieldSelectionMap","mappings","args","variableValues","rawQuery","indirectInclude","query","normalizedIndirectInclude","Array","isArray","normalizeInclude","getIndirectType","fieldState","createStateForType","Object","keys","resolvedField","node","map","_","queryFromInfo","typeName","getTypeMap","fieldNodes","n","nested","selectionStateFromInfo","parentType","parent","targetType","fieldMap","pothosPrismaFieldMap","currentType","normalized","fieldName","push"],"mappings":"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"}